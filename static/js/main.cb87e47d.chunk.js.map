{"version":3,"sources":["Components/Item.js","Components/Comment.js","Components/MainContent.js","App.js","index.js"],"names":["Item","event","target","classList","contains","this","props","onItemClick","index","react_default","a","createElement","className","onClick","bind","itemName","commentsNum","removeItem","Component","Comment","commentText","MainContent","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","inputVal","commentInputVal","itemsArr","actItemIndex","inputType","newVal","value","setState","itemIndex","delIndex","addEl","name","comments","arguments","length","filter","el","i","itemExist","item","push","alert","concat","toConsumableArray","e","code","ctrlKey","localStorage","getItem","JSON","parse","console","log","document","addEventListener","keyDownHandler","removeEventListener","nextProps","nextState","setItem","stringify","items","commentsArr","actItem","Components_Item","key","addRemoveItem","undefined","Components_Comment","placeholder","onChange","onInputChange","style","top","display","App","Components_MainContent","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.cb87e47d.chunk.js","sourcesContent":["import React, {Component} from 'react';\n\nclass Item extends Component{\n\n    onItemClick(event){\n\n        if (event.target.classList.contains('del-btn')){\n            return false;\n        }\n        this.props.onItemClick(this.props.index);\n    }\n\n    render(){\n\n        return(\n            <div className={'item-element'}\n                 onClick={this.onItemClick.bind(this)}>\n                <div className={'name-side'}>\n                    <span className={'item-name'}>{this.props.itemName}</span>\n                    <span className={'comments-num'}>{this.props.commentsNum}</span>\n                </div>\n                <button\n                    onClick={this.props.removeItem.bind(this, this.props.itemName)}\n                    className={'del-btn'}\n                >Delete</button>\n            </div>\n        )\n    }\n}\n\nexport default Item;","import React, {Component} from 'react';\n\nclass Comment extends Component{\n\n    render(){\n\n        return(\n\n            <div className={'comment-item'}>\n                <span className={'avatar-ph'} />\n                <p>{this.props.commentText}</p>\n            </div>\n        )\n    }\n}\n\nexport default Comment;","import React, {Component} from 'react';\nimport Item from \"./Item\";\nimport Comment from \"./Comment\";\n\nclass MainContent extends Component{\n\n    constructor(){\n        super();\n\n        this.state = {\n            inputVal: '',\n            commentInputVal: '',\n            itemsArr: [],\n            actItemIndex: 0\n        }\n    }\n\n    onInputChange(inputType, event){\n\n        let newVal = event.target.value;\n\n        inputType === 'item' ?\n\n        this.setState({\n            inputVal: newVal\n        }) :\n\n            this.setState({\n                commentInputVal: newVal\n            })\n    }\n\n\n    addRemoveItem(itemIndex){\n\n        let addEl = {\n            name: this.state.inputVal,\n            comments: []\n        };\n\n        let itemsArr = this.state.itemsArr;\n        let delIndex;\n\n        if (arguments.length > 1) {\n\n            this.setState({\n                itemsArr: this.state.itemsArr.filter((el) => {\n                    return el.name !== itemIndex\n                })\n            });\n\n            for (let i = 0; i < itemsArr.length; i++){\n                let item = itemsArr[i];\n                item.name === itemIndex && (delIndex = i);\n            }\n\n            (delIndex === (itemsArr.length - 1) && (delIndex > 0) ) &&\n                this.setState({\n                    actItemIndex: delIndex -1\n                });\n\n        } else {\n\n            let itemExist = [];\n\n            for(let i = 0; i < itemsArr.length; i++){\n                let item = itemsArr[i].name;\n                (item === this.state.inputVal) && itemExist.push(item);\n            }\n\n            itemExist.length ? alert(`Item with name ${this.state.inputVal} is already exist! `) :\n\n                this.setState({\n                    itemsArr: [\n                        ...this.state.itemsArr, addEl\n                    ],\n                    inputVal: ''\n                })\n        }\n    }\n\n    onItemClick(itemIndex){\n        this.setState({\n            actItemIndex: itemIndex,\n        });\n    }\n\n    keyDownHandler(e){\n\n        let itemsArr = this.state.itemsArr;\n\n        if (e.code === 'Enter' && e.ctrlKey) {\n\n            for(let i = 0; i < itemsArr.length; i++){\n\n                if (i === this.state.actItemIndex){\n                    itemsArr[i].comments.push(this.state.commentInputVal);\n                }\n            }\n\n            this.setState({\n                itemsArr: itemsArr,\n                commentInputVal: ''\n            })\n        }\n\n    }\n\n    componentWillMount(){\n        localStorage.getItem('itemsData') && this.setState({\n            itemsArr: JSON.parse(localStorage.getItem('itemsData'))\n        });\n        console.log('WillMount');\n    }\n\n    componentDidMount(){\n        document.addEventListener('keypress', this.keyDownHandler.bind(this));\n        console.log('didmount');\n    }\n\n    componentWillUnmount(){\n        document.removeEventListener('keypress',this.keyDownHandler.bind(this));\n    }\n\n    componentWillUpdate(nextProps, nextState){\n        localStorage.setItem('itemsData', JSON.stringify(nextState.itemsArr));\n        console.log('WillUpdate');\n\n    }\n\n    render(){\n\n        let items = [],\n            commentsArr = [],\n            itemsArr = this.state.itemsArr,\n            actItem = itemsArr[this.state.actItemIndex];\n\n        for(let i = 0; i < itemsArr.length; i++){\n\n            let item = itemsArr[i];\n\n            items.push(\n                <Item\n                    key={`item-${i}`}\n                    index={i}\n                    itemName={item.name}\n                    commentsNum={item.comments.length}\n                    removeItem={this.addRemoveItem.bind(this)}\n                    onItemClick={this.onItemClick.bind(this)}\n                />\n            )\n        }\n\n\n        if (actItem !== undefined){\n            for(let i = 0; i < actItem.comments.length; i++){\n\n                let commentText = actItem.comments[i];\n\n                commentsArr.push(\n                    <Comment\n                        key={`comment-${i}`}\n                        index={i}\n                        commentText={commentText}\n                    />\n                )\n            }\n        }\n\n\n\n        return(\n            <div className={'main-content'}>\n                <section className={'items-section'}>\n                    <h3>Items</h3>\n                    <div className={'input-row'}>\n                        <input placeholder={'Type name here...'}\n                               onChange={this.onInputChange.bind(this, 'item')}\n                               value={this.state.inputVal}\n                        />\n                        <button\n                            className={'add-btn'}\n                            onClick={this.addRemoveItem.bind(this)}\n                        >Add new</button>\n                    </div>\n\n                    <div className={'items-list'}>\n                    <span className={'active-flag'}\n                          style={{\n                              top: this.state.actItemIndex * 53 + 'px',\n                              display: this.state.itemsArr.length ? 'flex' : 'none'\n                          }}\n                    />\n                        {items}\n                    </div>\n\n\n                </section>\n                <section className={'comments-section'}>\n                    <div className={'comments-list'}>\n                        <h3>{'Comments #' + (this.state.actItemIndex + 1)}</h3>\n                        {commentsArr}\n                    </div>\n                    <div className={'add-comment-row'}>\n                        <span className={'avatar-ph'} />\n                        <input\n                            value={this.state.commentInputVal}\n                            onChange={this.onInputChange.bind(this, 'comment')}\n                        />\n                    </div>\n                </section>\n            </div>\n        )\n    }\n}\n\nexport default MainContent;","import React, { Component } from 'react';\nimport './assets/scss/styles.scss';\nimport MainContent from './Components/MainContent';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n          <aside>\n              <h3>dairy app</h3>\n              <span>Comment with no sense</span>\n          </aside>\n          <main>\n            <MainContent />\n          </main>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}