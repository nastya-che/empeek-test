(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(7),m=n.n(i),c=(n(15),n(1)),l=n(2),r=n(4),o=n(3),u=n(5),h=(n(17),n(8)),p=function(e){function t(){return Object(c.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onItemClick",value:function(e){if(e.target.classList.contains("del-btn"))return!1;this.props.onItemClick(this.props.index)}},{key:"render",value:function(){return s.a.createElement("div",{className:"item-element",onClick:this.onItemClick.bind(this)},s.a.createElement("div",{className:"name-side"},s.a.createElement("span",{className:"item-name"},this.props.itemName),s.a.createElement("span",{className:"comments-num"},this.props.commentsNum)),s.a.createElement("button",{onClick:this.props.removeItem.bind(this,this.props.itemName),className:"del-btn"},"Delete"))}}]),t}(a.Component),d=function(e){function t(){return Object(c.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"comment-item"},s.a.createElement("span",{className:"avatar-ph"}),s.a.createElement("p",null,this.props.commentText))}}]),t}(a.Component),v=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(r.a)(this,Object(o.a)(t).call(this))).state={inputVal:"",commentInputVal:"",itemsArr:[],actItemIndex:0},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onInputChange",value:function(e,t){var n=t.target.value;"item"===e?this.setState({inputVal:n}):this.setState({commentInputVal:n})}},{key:"addRemoveItem",value:function(e){var t,n={name:this.state.inputVal,comments:[]},a=this.state.itemsArr;if(arguments.length>1){this.setState({itemsArr:this.state.itemsArr.filter(function(t){return t.name!==e})});for(var s=0;s<a.length;s++){a[s].name===e&&(t=s)}t===a.length-1&&t>0&&this.setState({actItemIndex:t-1})}else{for(var i=[],m=0;m<a.length;m++){var c=a[m].name;c===this.state.inputVal&&i.push(c)}i.length?alert("Item with name ".concat(this.state.inputVal," is already exist! ")):this.setState({itemsArr:Object(h.a)(this.state.itemsArr).concat([n]),inputVal:""})}}},{key:"onItemClick",value:function(e){this.setState({actItemIndex:e})}},{key:"keyDownHandler",value:function(e){var t=this.state.itemsArr;if("Enter"===e.code&&e.ctrlKey){for(var n=0;n<t.length;n++)n===this.state.actItemIndex&&t[n].comments.push(this.state.commentInputVal);this.setState({itemsArr:t,commentInputVal:""})}}},{key:"componentWillMount",value:function(){localStorage.getItem("itemsData")&&this.setState({itemsArr:JSON.parse(localStorage.getItem("itemsData"))}),console.log("WillMount")}},{key:"componentDidMount",value:function(){document.addEventListener("keypress",this.keyDownHandler.bind(this)),console.log("didmount")}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keypress",this.keyDownHandler.bind(this))}},{key:"componentWillUpdate",value:function(e,t){localStorage.setItem("itemsData",JSON.stringify(t.itemsArr)),console.log("WillUpdate")}},{key:"render",value:function(){for(var e=[],t=[],n=this.state.itemsArr,a=n[this.state.actItemIndex],i=0;i<n.length;i++){var m=n[i];e.push(s.a.createElement(p,{key:"item-".concat(i),index:i,itemName:m.name,commentsNum:m.comments.length,removeItem:this.addRemoveItem.bind(this),onItemClick:this.onItemClick.bind(this)}))}if(void 0!==a)for(var c=0;c<a.comments.length;c++){var l=a.comments[c];t.push(s.a.createElement(d,{key:"comment-".concat(c),index:c,commentText:l}))}return s.a.createElement("div",{className:"main-content"},s.a.createElement("section",{className:"items-section"},s.a.createElement("h3",null,"Items"),s.a.createElement("div",{className:"input-row"},s.a.createElement("input",{placeholder:"Type name here...",onChange:this.onInputChange.bind(this,"item"),value:this.state.inputVal}),s.a.createElement("button",{className:"add-btn",onClick:this.addRemoveItem.bind(this)},"Add new")),s.a.createElement("div",{className:"items-list"},s.a.createElement("span",{className:"active-flag",style:{top:53*this.state.actItemIndex+"px",display:this.state.itemsArr.length?"flex":"none"}}),e)),s.a.createElement("section",{className:"comments-section"},s.a.createElement("div",{className:"comments-list"},s.a.createElement("h3",null,"Comments #"+(this.state.actItemIndex+1)),t),s.a.createElement("div",{className:"add-comment-row"},s.a.createElement("span",{className:"avatar-ph"}),s.a.createElement("input",{value:this.state.commentInputVal,onChange:this.onInputChange.bind(this,"comment")}))))}}]),t}(a.Component),f=function(e){function t(){return Object(c.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("aside",null,s.a.createElement("h3",null,"dairy app"),s.a.createElement("span",null,"Comment with no sense")),s.a.createElement("main",null,s.a.createElement(v,null)))}}]),t}(a.Component);m.a.render(s.a.createElement(f,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(19)}},[[9,2,1]]]);
//# sourceMappingURL=main.cb87e47d.chunk.js.map